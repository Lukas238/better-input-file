/*!
 * Better-input-file-button
 * Replace the system inputfile with an -traslatable- HTML5 button
 * @URL https://github.com/Lukas238/better-input-file.git
 * @author Lucas Dasso
 * @version 1.0.0
 * Copyright 2015. ISC licensed.
 */
jQuery.fn.betterInputFile=function(t){this.each(function(){var e=this,l="betterInputFile";if($(e).parents("."+l).length>0)return!0;var s={cssClass:"",btnText:"Select a file",btnClass:"btn btn-primary",placeholder:"No file selected",multiple:!1,multipleFilesText:"Files selected",afterSelect:function(t){}};t=$.extend(s,t);var a={cssClass:$(e).data("cssclass"),btnText:$(e).data("btntext"),btnClass:$(e).data("btnclass"),placeholder:$(e).data("placeholder"),multiple:$(e).data("multiple"),multipleFilesText:$(e).data("multiplefilestext")};t=$.extend(t,a),t.multiple===!0&&$(e).attr("multiple","multiple"),$(e).removeClass().hide().wrap('<div class="'+l+(t.cssClass?" "+t.cssClass:"")+'" />').wrap('<div class="input-group" />').parent().prepend('<input type="text" placeholder="'+t.placeholder+'" class="form-control'+(t.lblClass?" "+t.lblClass:"")+'" readonly>').prepend('<span class="input-group-btn"><button type="button"'+(t.btnClass?' class="'+t.btnClass+'"':"")+">"+t.btnText+"</button></span>");var n=$(e).parents("."+l),i=$(n).find("button"),r=$(n).find("input.form-control");$(e).change(function(l){var s=$(e).val().replace(/\\/g,"/").replace(/.*\//,""),a=$(e).get(0).files.length;$(r).val(a>1?t.multipleFilesText:s),t.afterSelect.call(this,$(e).get(0).files)}),$(i).click(function(t){$(e).trigger("click"),$(this).blur()})})};