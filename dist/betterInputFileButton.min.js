/*!
 * better-input-file-button
 * Replace the system inputfile with an -traslatable- HTML5 button
 * @URL https://github.com/Lukas238/better-input-file.git
 * @author Lucas Dasso
 * @version 1.0.1
 * Copyright 2018. ISC licensed.
 */
jQuery.fn.betterInputFile=function(t){this.each(function(){var e=this,l="betterInputFile";if($(e).parents("."+l).length>0)return!0;var a={cssClass:"",btnText:"Select a file",btnClass:"btn btn-primary",btnLeft:!0,placeholder:"No file selected",multiple:!1,multipleFilesText:"Files selected",afterSelect:function(t,e){}};t=$.extend(a,t);var s={cssClass:$(e).data("cssclass"),btnText:$(e).data("btntext"),btnClass:$(e).data("btnclass"),btnLeft:$(e).data("btnLeft"),placeholder:$(e).data("placeholder"),multiple:$(e).data("multiple"),multipleFilesText:$(e).data("multiplefilestext")};t=$.extend(t,s),t.multiple===!0&&$(e).attr("multiple","multiple");var n="",i='<input type="text" placeholder="'+t.placeholder+'" class="form-control'+(t.lblClass?" "+t.lblClass:"")+'" readonly>',r='<span class="input-group-btn"><button type="button"'+(t.btnClass?' class="'+t.btnClass+'"':"")+">"+t.btnText+"</button></span>";n=t.btnLeft?r+i:i+r,$(e).removeClass().hide().wrap('<div class="'+l+(t.cssClass?" "+t.cssClass:"")+'" />').wrap('<div class="input-group" />').parent().prepend(n);var c=$(e).parents("."+l),p=$(c).find("button"),u=$(c).find("input.form-control");$(e).change(function(l){var a=$(e).val().replace(/\\/g,"/").replace(/.*\//,""),s=$(e).get(0).files.length;$(u).val(s>1?t.multipleFilesText:a),t.afterSelect.call(this,$(e).get(0).files,$(e))}),$(p).click(function(t){$(e).trigger("click"),$(this).blur()})})};