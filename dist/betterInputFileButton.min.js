/*!
 * Better-input-file-button
 * Replace the system inputfile with an -traslatable- HTML5 button
 * https://github.com/Lukas238/better-input-file.git
 * @author Lucas Dasso
 * @version 1.1.0
 * Copyright 2015. ISC licensed.
 */
jQuery.fn.betterInputFile=function(t){this.each(function(){var e=this,l={mainClass:"betterInputFile",btnText:"Seleccionar archivo",btnClass:"btn btn-primary",placeholder:"Ning√∫n archivo seleccionado",multiple:!1,multipleFilesText:"Archivos seleccionados",afterSelect:function(t){}};t=$.extend(l,t);var a={mainClass:$(e).data("mainclass"),btnText:$(e).data("btntext"),btnClass:$(e).data("btnclass"),placeholder:$(e).data("placeholder"),multiple:$(e).data("multiple"),multipleFilesText:$(e).data("multiplefilestext")};t=$.extend(t,a),t.multiple===!0&&$(e).attr("multiple","multiple"),$(e).removeClass().hide().wrap('<div class="'+t.mainClass+'" />').wrap('<div class="input-group" />').parent().prepend('<input type="text" placeholder="'+t.placeholder+'" class="form-control'+(t.lblClass?" "+t.lblClass:"")+'" readonly>').prepend('<span class="input-group-btn"><button type="button"'+(t.btnClass?' class="'+t.btnClass+'"':"")+">"+t.btnText+"</button></span>");var n=$(e).parents("."+t.mainClass),s=$(n).find("button"),i=$(n).find("input.form-control");$(e).change(function(l){var a=$(e).val().replace(/\\/g,"/").replace(/.*\//,""),n=$(e).get(0).files.length;$(i).val(n>1?t.multipleFilesText:a),t.afterSelect.call(this,$(e).get(0).files)}),$(s).click(function(t){$(e).trigger("click"),$(this).blur()})})};